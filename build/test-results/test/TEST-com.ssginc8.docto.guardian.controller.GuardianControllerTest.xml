<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.ssginc8.docto.guardian.controller.GuardianControllerTest" tests="3" skipped="0" failures="0" errors="0" timestamp="2025-05-26T02:15:40.248Z" hostname="WIN-OJI72659EU9" time="0.884">
  <properties/>
  <testcase name="보호자-환자 매핑 해제 API" classname="com.ssginc8.docto.guardian.controller.GuardianControllerTest" time="0.733"/>
  <testcase name="보호자 권한 수락/거절 API" classname="com.ssginc8.docto.guardian.controller.GuardianControllerTest" time="0.09"/>
  <testcase name="보호자가 가진 환자 목록 조회 API" classname="com.ssginc8.docto.guardian.controller.GuardianControllerTest" time="0.058"/>
  <system-out><![CDATA[11:15:34.089 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.ssginc8.docto.guardian.controller.GuardianControllerTest]: GuardianControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
11:15:34.215 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.ssginc8.docto.DoctoApplication for test class com.ssginc8.docto.guardian.controller.GuardianControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.5)

2025-05-26T11:15:34.657+09:00  INFO 20900 --- [    Test worker] c.s.d.g.c.GuardianControllerTest         : Starting GuardianControllerTest using Java 17.0.13 with PID 20900 (started by pizza in C:\backend-project)
2025-05-26T11:15:34.658+09:00 DEBUG 20900 --- [    Test worker] c.s.d.g.c.GuardianControllerTest         : Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-26T11:15:34.658+09:00  INFO 20900 --- [    Test worker] c.s.d.g.c.GuardianControllerTest         : No active profile set, falling back to 1 default profile: "default"
2025-05-26T11:15:35.422+09:00  INFO 20900 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26T11:15:35.510+09:00  INFO 20900 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 2 JPA repository interfaces.
2025-05-26T11:15:36.100+09:00  INFO 20900 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26T11:15:36.152+09:00  INFO 20900 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-26T11:15:36.182+09:00  INFO 20900 --- [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-26T11:15:36.499+09:00  INFO 20900 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26T11:15:36.524+09:00  INFO 20900 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-26T11:15:36.706+09:00  INFO 20900 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5dd3727c
2025-05-26T11:15:36.707+09:00  INFO 20900 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-26T11:15:36.729+09:00  WARN 20900 --- [    Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26T11:15:36.743+09:00  INFO 20900 --- [    Test worker] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26T11:15:37.664+09:00  INFO 20900 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26T11:15:38.297+09:00  INFO 20900 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T11:15:38.654+09:00  INFO 20900 --- [    Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26T11:15:39.290+09:00  WARN 20900 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26T11:15:39.327+09:00 TRACE 20900 --- [    Test worker] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@4c18b432}
2025-05-26T11:15:39.335+09:00  WARN 20900 --- [    Test worker] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 8923251a-9080-4820-a972-e51d95587f81

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-26T11:15:39.354+09:00  INFO 20900 --- [    Test worker] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-26T11:15:39.759+09:00 DEBUG 20900 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-26T11:15:40.227+09:00  INFO 20900 --- [    Test worker] c.s.d.g.c.GuardianControllerTest         : Started GuardianControllerTest in 5.886 seconds (process running for 6.901)
2025-05-26T11:15:40.728+09:00  INFO 20900 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-05-26T11:15:40.728+09:00  INFO 20900 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-26T11:15:40.729+09:00  INFO 20900 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
Hibernate: 
    select
        pg1_0.patient_guardian_id,
        pg1_0.created_at,
        pg1_0.deleted_at,
        pg1_0.invite_code,
        pg1_0.invited_at,
        pg1_0.patient_id,
        pg1_0.responded_at,
        pg1_0.status,
        pg1_0.updated_at,
        pg1_0.user_id 
    from
        tbl_patient_guardian pg1_0 
    where
        pg1_0.user_id=? 
        and pg1_0.patient_id=? 
        and pg1_0.deleted_at is null
Hibernate: 
    select
        p1_0.patient_id,
        p1_0.created_at,
        p1_0.deleted_at,
        p1_0.resident_registration_number,
        p1_0.updated_at,
        p1_0.user_id,
        u1_0.user_id,
        u1_0.address,
        u1_0.created_at,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.login_type,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.suspended,
        u1_0.suspended_at,
        u1_0.suspension_expires_at,
        u1_0.updated_at,
        u1_0.uuid 
    from
        tbl_patient p1_0 
    join
        tbl_user u1_0 
            on u1_0.user_id=p1_0.user_id 
    where
        p1_0.patient_id=?
Hibernate: 
    update
        tbl_patient_guardian 
    set
        created_at=?,
        deleted_at=?,
        invite_code=?,
        invited_at=?,
        patient_id=?,
        responded_at=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        patient_guardian_id=?

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /api/v1/guardians/14/patients/39
       Parameters = {}
          Headers = []
             Body = null
    Session Attrs = {}

Handler:
             Type = com.ssginc8.docto.guardian.controller.GuardianController
           Method = com.ssginc8.docto.guardian.controller.GuardianController#deleteMapping(Long, Long)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 204
    Error message = null
          Headers = []
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-05-26T11:15:40.984+09:00  INFO 20900 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-05-26T11:15:40.985+09:00  INFO 20900 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-26T11:15:40.985+09:00  INFO 20900 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
Hibernate: 
    select
        pg1_0.patient_guardian_id,
        pg1_0.created_at,
        pg1_0.deleted_at,
        pg1_0.invite_code,
        pg1_0.invited_at,
        pg1_0.patient_id,
        p1_0.patient_id,
        p1_0.created_at,
        p1_0.deleted_at,
        p1_0.resident_registration_number,
        p1_0.updated_at,
        p1_0.user_id,
        u1_0.user_id,
        u1_0.address,
        u1_0.created_at,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.login_type,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.suspended,
        u1_0.suspended_at,
        u1_0.suspension_expires_at,
        u1_0.updated_at,
        u1_0.uuid,
        pg1_0.responded_at,
        pg1_0.status,
        pg1_0.updated_at,
        pg1_0.user_id,
        u2_0.user_id,
        u2_0.address,
        u2_0.created_at,
        u2_0.deleted_at,
        u2_0.email,
        u2_0.login_type,
        u2_0.name,
        u2_0.password,
        u2_0.phone,
        u2_0.role,
        u2_0.suspended,
        u2_0.suspended_at,
        u2_0.suspension_expires_at,
        u2_0.updated_at,
        u2_0.uuid 
    from
        tbl_patient_guardian pg1_0 
    join
        tbl_patient p1_0 
            on p1_0.patient_id=pg1_0.patient_id 
    join
        tbl_user u1_0 
            on u1_0.user_id=p1_0.user_id 
    join
        tbl_user u2_0 
            on u2_0.user_id=pg1_0.user_id 
    where
        pg1_0.patient_guardian_id=?
Hibernate: 
    update
        tbl_patient_guardian 
    set
        created_at=?,
        deleted_at=?,
        invite_code=?,
        invited_at=?,
        patient_id=?,
        responded_at=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        patient_guardian_id=?

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/guardians/request/2
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"52"]
             Body = {"status":"ACCEPTED","inviteCode":"test-invite-014"}
    Session Attrs = {}

Handler:
             Type = com.ssginc8.docto.guardian.controller.GuardianController
           Method = com.ssginc8.docto.guardian.controller.GuardianController#respond(Long, GuardianStatusRequest)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = []
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-05-26T11:15:41.077+09:00  INFO 20900 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-05-26T11:15:41.077+09:00  INFO 20900 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-26T11:15:41.078+09:00  INFO 20900 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
Hibernate: 
    select
        pg1_0.patient_guardian_id,
        pg1_0.created_at,
        pg1_0.deleted_at,
        pg1_0.invite_code,
        pg1_0.invited_at,
        pg1_0.patient_id,
        pg1_0.responded_at,
        pg1_0.status,
        pg1_0.updated_at,
        pg1_0.user_id 
    from
        tbl_patient_guardian pg1_0 
    where
        pg1_0.status=?
Hibernate: 
    select
        p1_0.patient_id,
        p1_0.created_at,
        p1_0.deleted_at,
        p1_0.resident_registration_number,
        p1_0.updated_at,
        p1_0.user_id,
        u1_0.user_id,
        u1_0.address,
        u1_0.created_at,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.login_type,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.suspended,
        u1_0.suspended_at,
        u1_0.suspension_expires_at,
        u1_0.updated_at,
        u1_0.uuid 
    from
        tbl_patient p1_0 
    join
        tbl_user u1_0 
            on u1_0.user_id=p1_0.user_id 
    where
        p1_0.patient_id=?
Hibernate: 
    select
        p1_0.patient_id,
        p1_0.created_at,
        p1_0.deleted_at,
        p1_0.resident_registration_number,
        p1_0.updated_at,
        p1_0.user_id,
        u1_0.user_id,
        u1_0.address,
        u1_0.created_at,
        u1_0.deleted_at,
        u1_0.email,
        u1_0.login_type,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.suspended,
        u1_0.suspended_at,
        u1_0.suspension_expires_at,
        u1_0.updated_at,
        u1_0.uuid 
    from
        tbl_patient p1_0 
    join
        tbl_user u1_0 
            on u1_0.user_id=p1_0.user_id 
    where
        p1_0.patient_id=?

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/v1/guardians/me/patients
       Parameters = {}
          Headers = []
             Body = null
    Session Attrs = {}

Handler:
             Type = com.ssginc8.docto.guardian.controller.GuardianController
           Method = com.ssginc8.docto.guardian.controller.GuardianController#getAllAcceptedMappings()

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json;charset=UTF-8"]
     Content type = application/json;charset=UTF-8
             Body = [{"patientId":38,"name":"테스트유저1","residentRegistrationNumber":"900101-1234567"},{"patientId":39,"name":"테스트유저2","residentRegistrationNumber":"920202-2222222"}]
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
